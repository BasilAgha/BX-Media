<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Project Dashboard | BX Media</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="dashboard.css" />
  </head>
  <body class="dashboard-body">
    <div class="dashboard-shell">
      <aside class="dashboard-sidebar">
        <div class="dashboard-logo">
          <img src="favicon.ico" alt="BX Media Logo" />
          <span>BX Media</span>
        </div>
        <nav class="dashboard-nav">
          <a href="index.html">← Back to site</a>
          <button type="button" id="adminLogout" class="secondary-btn" style="display: none">
            Log out
          </button>
        </nav>
      </aside>
      <main class="dashboard-content">
        <section class="dashboard-panel" id="adminLoginView">
          <h1>Admin access</h1>
          <p class="helper-text">
            Securely manage project updates and client visibility. Use the credentials shared with the
            internal BX Media team.
          </p>
          <div class="alert error" id="adminLoginError">Invalid login. Please check your details.</div>
          <form class="form-grid" id="adminLoginForm">
            <div class="form-row">
              <label for="adminEmail">Email address</label>
              <input type="email" id="adminEmail" name="email" placeholder="you@bxmedia.com" required />
            </div>
            <div class="form-row">
              <label for="adminPassword">Password</label>
              <input type="password" id="adminPassword" name="password" placeholder="••••••••" required />
            </div>
            <button type="submit" class="primary-btn">Enter admin console</button>
          </form>
        </section>

        <section class="dashboard-panel" id="adminDashboard" style="display: none">
          <header style="display: flex; justify-content: space-between; align-items: center; gap: 1rem">
            <div>
              <h1>Project control center</h1>
              <p class="helper-text">
                Update milestones and progress for every client in one place. All changes sync instantly to
                the client dashboard.
              </p>
            </div>
            <div>
              <button type="button" id="adminLogoutTop" class="secondary-btn">Log out</button>
            </div>
          </header>

          <section class="dashboard-panel" style="margin: 0; background: rgba(255, 255, 255, 0.02)">
            <h2>Update client projects</h2>
            <div class="form-grid" style="margin-bottom: 2rem">
              <div class="form-row">
                <label for="clientSelect">Client</label>
                <select id="clientSelect" required></select>
              </div>
            </div>

            <div id="projectMetaPanel" class="project-overview-panel" style="display: none">
              <h3>Project overview</h3>
              <form class="form-grid" id="projectMetaForm">
                <div class="form-row">
                  <label for="projectStartDate">Project start</label>
                  <input type="date" id="projectStartDate" name="startDate" />
                </div>
                <div class="form-row">
                  <label for="projectEndDate">Projected completion</label>
                  <input type="date" id="projectEndDate" name="endDate" />
                </div>
                <div class="form-row">
                  <label for="projectContractUrl">Contract link</label>
                  <input
                    type="url"
                    id="projectContractUrl"
                    name="contractUrl"
                    placeholder="https://drive.google.com/..."
                  />
                </div>
                <div class="form-row" style="align-self: flex-end">
                  <button type="submit" class="secondary-btn">Save project info</button>
                </div>
              </form>

              <div class="deliverable-section">
                <div class="deliverable-header">
                  <h4>Final deliverables</h4>
                  <form class="deliverable-form" id="deliverableForm">
                    <input
                      type="text"
                      id="deliverableTitle"
                      name="title"
                      placeholder="Deliverable name"
                      required
                    />
                    <input
                      type="url"
                      id="deliverableUrl"
                      name="url"
                      placeholder="https://drive.google.com/..."
                      required
                    />
                    <button type="submit" class="primary-btn">Add link</button>
                  </form>
                </div>
                <ul id="deliverableList" class="deliverable-list"></ul>
              </div>

              <div class="alert success" id="projectMetaSuccess">Project details saved.</div>
            </div>

            <form class="form-grid" id="newTaskForm">
              <div class="form-row">
                <label for="taskTitle">Task title</label>
                <input type="text" id="taskTitle" name="title" placeholder="Launch landing page" required />
              </div>
              <div class="form-row">
                <label for="taskDescription">Task description</label>
                <textarea
                  id="taskDescription"
                  name="description"
                  rows="3"
                  placeholder="Add clear next steps or deliverables"
                ></textarea>
              </div>
              <div class="form-row">
                <label for="taskStatus">Status</label>
                <select id="taskStatus" name="status" required>
                  <option value="not-started">Not started</option>
                  <option value="in-progress" selected>In progress</option>
                  <option value="completed">Completed</option>
                  <option value="blocked">Blocked</option>
                </select>
              </div>
              <div class="form-row">
                <label for="taskProgress">Progress (%)</label>
                <input
                  type="number"
                  id="taskProgress"
                  name="progress"
                  min="0"
                  max="100"
                  value="25"
                  required
                />
              </div>
              <div class="form-row">
                <label for="taskStartDate">Start date</label>
                <input type="date" id="taskStartDate" name="startDate" required />
              </div>
              <div class="form-row">
                <label for="taskDueDate">Target date</label>
                <input type="date" id="taskDueDate" name="dueDate" />
              </div>
              <button type="submit" class="primary-btn">Add task update</button>
            </form>
            <div class="alert success" id="taskSuccess">Task updated successfully.</div>
          </section>

          <section class="dashboard-panel" style="margin: 0">
            <h2>Current workstream</h2>
            <div id="adminTaskList" class="task-admin-list"></div>
          </section>
        </section>
      </main>
    </div>

    <script src="dashboard.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        window.BXDashboard?.initAdminPage();
      });
    </script>
  </body>
</html>
